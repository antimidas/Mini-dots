import{b as o}from"./chunk-3GYLW4KZ.js";function n(r){let e;try{e=new URL(r)}catch{return console.error("[redirects] 'redirectUrl' is not a valid URL",r),null}return e.pathname!=="/api/v3/r"?(console.error("[redirects] Not a valid redirectV3 url",r),null):e}var a=o(()=>{});function m(r,e){let t=n(r);return t?t.searchParams.get("d")?e?.constructor!==Object?(console.error("[redirects] 'analytics' is not a JSON object",e),r):(t.searchParams.set("a",btoa(JSON.stringify(e))),t.toString()):(console.error("[redirects] Missing 'd' query param in redirectV3 url",r),r):r}var s=o(()=>{a()});function R(r){let e=n(r);if(!e)return null;let t=e.searchParams.get("a");if(!t)return console.error("[redirects] Missing 'a' query param in redirectV3 url",r),null;let i;try{i=JSON.parse(atob(t))}catch{return console.error("[redirects] 'a' query param is not a valid JSON object",t),null}return i}var c=o(()=>{a()});var u=o(()=>{s();c()});export{m as a,R as b,u as c};
