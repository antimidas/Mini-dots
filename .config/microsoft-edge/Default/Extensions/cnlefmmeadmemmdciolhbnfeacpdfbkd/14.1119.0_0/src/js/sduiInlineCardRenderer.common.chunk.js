(self.webpackChunk=self.webpackChunk||[]).push([[3384],{3892:(e,t,n)=>{var r;n.d(t,{X:()=>r,_:()=>o}),function(e){e.accept="accept",e.rewriteOptions="rewriteOptions",e.customPrompt="customPrompt",e.revert="revert"}(r||(r={}));const o=new Set(Object.values(r))},81722:(e,t,n)=>{n.d(t,{G:()=>o});var r=n(64746);function o(e){let t="";return e.forEach((([e,n])=>{switch(e){case r.FS.Operation.RETAIN:t+=n+", ";break;case r.FS.Operation.INSERT:" "===n?t+="insert, space, ":(t+="insert, ",t+=s(n),t+=", ");break;case r.FS.Operation.DELETE:" "===n?t+="delete, space, ":(t+="delete, ",t+=s(n),t+=", ")}})),t}function s(e){return e.replace(/\n/gm," line break ").replace(/¶/gm," paragraph ").replace(/•/gm," bullet point ").replace(/,/gm," comma ").replace(/\./gm," period ").replace(/\(/gm," open parenthesis ").replace(/\)/gm," closed parenthesis ").replace(/-/gm," hyphen ").replace(/–/gm," en dash ").replace(/—/gm," em dash ").replace(/:/gm," colon ").replace(/;/gm," semicolon ").replace(/!/gm," exclamation mark ").replace(/\?/gm," question mark ").replace(/…/gm," ellipsis ").replace(/\*/gm," asterisk ").replace(/'/gm," apostrophe ").replace(/`/gm," grave accent ").replace(/"/gm," quotation mark ").replace(/"/gm," quotation mark ").replace(/'/gm," quotation mark ").replace(/'/gm," quotation mark ")}},86708:(e,t,n)=>{n.d(t,{a7:()=>u,kZ:()=>c,uz:()=>p});var r=n(90023),o=n(92379),s=n(84308),i=n(3892);const a=o.createContext({shouldShowTooltip:!1,sideline:null,currentStep:i.X.accept,acceptCount:0,rootElement:null,incrementAcceptCount:r.Q1,incrementRevertPresentedCount:r.Q1,onNextStep:r.Q1,onHide:r.Q1}),l={accept:{tooltipText:"Accept all changes to your paragraph",ctaText:"Next"},rewriteOptions:{tooltipText:"Try different ways to write it",ctaText:"Next"},customPrompt:{tooltipText:"Tell us how to change it",ctaText:"Try it"}};function c({onboardingService:e,children:t,rootElement:n,sideline:r}){const[i,l]=o.useState({shouldShowTooltip:e.shouldShowTooltip.get(),sideline:r,currentStep:e.currentStep.get(),acceptCount:e.acceptCount.get(),rootElement:n,incrementAcceptCount:()=>e.incrementAcceptCount(),incrementRevertPresentedCount:()=>e.incrementRevertPresentedCount(),onNextStep:t=>e.onNextStep(t),onHide:t=>e.onHide(t)});return o.useEffect((()=>{l((e=>({...e,rootElement:n})))}),[n]),o.useEffect((()=>{l((e=>({...e,sideline:r})))}),[r]),o.useEffect((()=>{const t=(0,s.a)([e.shouldShowTooltip,e.currentStep,e.acceptCount]).subscribe((([e,t,n])=>l((r=>({...r,shouldShowTooltip:e,currentStep:t,acceptCount:n})))));return()=>t.unsubscribe()}),[e]),o.createElement(a.Provider,{value:i},t)}function u(e){const{currentStep:t,shouldShowTooltip:n,sideline:r,rootElement:s,incrementAcceptCount:i,onNextStep:c,onHide:u}=o.useContext(a),{tooltipText:p,ctaText:f}=l[e];return{ctaText:f,rootElement:s,showTooltip:n&&t===e,tooltipText:p,incrementAcceptCount:i,onNextStep:()=>c(r),onHide:()=>u(r)}}function p(){const{currentStep:e,shouldShowTooltip:t,incrementRevertPresentedCount:n}=o.useContext(a);return{showOnboarding:t&&e===i.X.revert,onShow:()=>n()}}},2372:(e,t,n)=>{n.d(t,{q:()=>o});var r=n(92379);const o=({as:e="div",className:t,show:n,transitionDurationMs:o=250,display:s="inline-block",ariaHidden:i,children:a})=>{const[l,c]=r.useState(!1),[u,p]=r.useState(!1);r.useEffect((()=>{let e;c(!0),n||(e=self.setTimeout((()=>c(!1)),o)),p(!n);const t=self.setTimeout((()=>p(n)),0);return()=>[e,t].forEach(clearTimeout)}),[n]);const f={display:s,opacity:u?1:0,transition:`opacity ${o}ms`},d=e;return l&&a?r.createElement(d,{className:t,style:f,"data-testid":"grammarly-g2-fade-wrapper","aria-hidden":i},a):null}},51026:(e,t,n)=>{n.d(t,{s:()=>s});var r=n(23783);const o={filter:`blur(${r.ux.px(3)})`,userSelect:"none"},s=r.ux.stylesheet({sidelineCardRewriteDiff:[{margin:0}],sidelineCardRewriteDiffBlurred:[o],sidelineCardRewriteDiffRevertButton:[{width:0,height:0,margin:0,padding:0,border:"none",cursor:"pointer"}],sidelineCardRewriteDiffPopoverWrapper:[{height:0,width:0}]})},96821:(e,t,n)=>{n.d(t,{V:()=>P});var r=n(90023),o=n(92379),s=n(30508),i=n(59226),a=n(36817),l=n(48906),c=n(53186),u=n(58303),p=n(81722),f=n(64746),d=n(92244),h=n(86708),m=n(2372),E=n(25965),g=n(23783),x=n(91320);const y={position:"relative",borderRadius:`${g.ux.px(0)} ${g.ux.px(4.5)} ${g.ux.px(4.5)} ${g.ux.px(4.5)}`,border:`${g.ux.px(1.5)} solid ${x.NeutralGray100}`,backgroundColor:"transparent"},S={$nest:{"&&":{padding:`${g.ux.px(2)} ${g.ux.px(4)}`,fontSize:g.ux.px(12),color:x.White,borderRadius:`${g.ux.px(3)} ${g.ux.px(3)} ${g.ux.px(3)} ${g.ux.px(0)}`,backgroundColor:x.NeutralGray100,lineHeight:g.ux.px(18)}}},D={animationName:g.ux.keyframes({"0%":{stroke:x.NeutralGray100},"50%":{stroke:x.NeutralGray40},"100%":{stroke:x.NeutralGray100}}),animationDuration:g.ux.milliseconds(833),animationIterationCount:3},w=g.ux.stylesheet({revertibleRewriteDiff:[y],revertibleRewriteDiffLabel:[S],revertibleRewriteDiffButton:[{cursor:"pointer",outline:"none"}],revertibleRewriteDiffOutlineOnboarding:[D]}),R=o.forwardRef((({children:e,diffs:t,diffAccessibilityLabel:n,onHidePopover:r,onMount:s,onRevert:i,onRedo:a,onShowPopover:l,groupID:c},u)=>{const p=o.useRef(null),f=o.useRef(null);o.useEffect((()=>{s&&p.current&&f.current&&s({diffs:t,referenceElement:p.current,diffSpanElement:f.current,groupID:c})}),[]);const d=null!=i?i:a;if(!d)return o.createElement("span",null,e);const h=()=>{p.current&&f.current&&l({diffs:t,referenceElement:p.current,diffSpanElement:f.current,groupID:c})};return o.createElement("span",{ref:(0,E.l)([u,p]),"data-testid":"grammarly-g2-revertible-rewrite-diff",role:"button",className:w.revertibleRewriteDiffButton,"aria-label":`Undo ${n||""} this cannot be redone. Focus will be on the next undoable rewrite`,tabIndex:0,onBlur:r,onClick:()=>d(t),onFocus:h,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),d(t))},onMouseOver:h},o.createElement("span",{ref:f,"aria-hidden":!0},e))}));R.displayName="RevertibleRewriteDiff";const T={position:"absolute",inset:`auto auto ${g.ux.px(0)} ${g.ux.px(0)}`,pointerEvents:"none"},v=g.ux.stylesheet({svg:[T],path:[{pointerEvents:"auto",fill:"transparent"}]}),b=e=>{const{x:t,y:n,width:r,height:o}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t+r,y:n+o},{x:t,y:n+o}]},I=({largeArcFlag:e=0,radius:t=2,isClockwise:n=!0,end:r})=>`a ${t},${t} 0 ${e} ${n?1:0} ${r.dx},${r.dy} `,N=(e=!0)=>I({end:{dx:2,dy:2},isClockwise:e}),O=(e=!0)=>I({end:{dx:-2,dy:2},isClockwise:e}),C=(e=!0)=>I({end:{dx:-2,dy:-2},isClockwise:e}),k=(e=!0)=>I({end:{dx:2,dy:-2},isClockwise:e}),$=({className:e,rects:t,referenceRect:n,...r})=>{const s=(e=>{const t=[];let n={x:0,y:0},r="";const[o,s,i]=b(e[0]),a=o;r+=`M ${o.x+2} ${o.y} `,r+=`H ${s.x-2} `,r+=N(),n=i,e.forEach((e=>{const[o,s,i,a]=b(e),l=s.x>n.x;s.x!==n.x&&(r+=l?N(!1):O(),r+=`H ${s.x+(l?-2:2)} `,r+=l?N():O(!1)),r+=`V ${i.y-2} `,t.push(o,a),n=i}));const l=t[t.length-1];for(r+=O(),r+=`H ${l.x+2} `,r+=C(),n=l;t.length>0;){const e=t.pop(),o=t.pop(),s=e.x>n.x;e.x!==n.x&&(r+=s?k():C(!1),r+=`H ${e.x+(s?-2:2)} `,r+=s?k(!1):C()),r+=`V ${o.y+2} `,n=o}return r+=`V ${a.y} Z`,r})(t.map((e=>({x:e.x-n.x-2,y:e.y-n.y-2,width:e.width+4,height:e.height+4})))),i={width:n.width,height:n.height};return o.createElement("svg",{...(0,l.Sh)(v.svg,e),style:i,"data-testid":"grammarly-g2-revertible-rewrite-outline",...r},o.createElement("path",{className:v.path,d:s,stroke:x.NeutralGray100,strokeWidth:"2px"}))};var A=n(51026);const F=e=>{const{children:t,renderer:n}=e,r=t.split("\n");return o.createElement(o.Fragment,null,r.map(((e,t)=>t>0?0===e.length?o.createElement("br",{key:`${t}_br`}):[o.createElement("br",{key:`${t}_br`}),o.createElement(o.Fragment,{key:t},n(e))]:0===e.length?[]:o.createElement(o.Fragment,{key:t},n(e)))).flat())},L={styleInsert:{color:i.I.Text.Addition.Default,background:"rgba(177, 240, 232, 0.5)",fontWeight:"bold"},styleDelete:{color:"#696969",backgroundColor:"rgba(156, 156, 156, 0.2)",textDecoration:"line-through"},styleRetain:{color:i.I.Text.Base.Default},styleRedo:{color:i.I.Text.Base.Default,textDecoration:"underline"}},P=({diff:e,displayDeletes:t,blur:n,diffStyles:i=L,isSduiTarget:E=!1,onRevert:g=r.Q1,onRedo:x=r.Q1,onFocusLost:y=r.Q1})=>{const[S,D]=o.useState(!1),{showOnboarding:T,onShow:v}=(0,h.uz)(),[b,I]=o.useState(T),[N,O]=o.useState(null),[C,k]=o.useState(null),[P,G]=o.useState(null),[B,U]=o.useState([]),[H,_]=o.useState(0),[M,z]=o.useState(null),{styles:Q,attributes:q}=(0,s.D)(P,M,{placement:"top-start",modifiers:[{name:"offset",options:{offset:[-3,2]}}]}),{styleInsert:W,styleDelete:j,styleRetain:V,styleRedo:Y}=i,X=o.useRef(null),K=o.useRef(new Map);o.useEffect((()=>(b&&(X.current=self.setTimeout((()=>{I(!1),D(!1),v()}),2500)),()=>{X.current&&self.clearTimeout(X.current)})),[b]),o.useEffect((()=>{C&&G({getBoundingClientRect:()=>C.getClientRects()[0],contextElement:C.ownerDocument.body})}),[C]);const Z=({diffs:e,referenceElement:t,diffSpanElement:n,groupID:r})=>{D(!0),O((0,d.bp)(t)),k(n),U(e),_(r)},J=()=>{I(!1),X.current&&self.clearTimeout(X.current)},ee=({diffs:e,referenceElement:t,diffSpanElement:n,groupID:r})=>{I(!0),Z({diffs:e,referenceElement:t,diffSpanElement:n,groupID:r})},te=()=>D(!1),ne=()=>{D(!0),J()},re=({diffs:e,referenceElement:t,diffSpanElement:n,groupID:r})=>{J(),Z({diffs:e,referenceElement:t,diffSpanElement:n,groupID:r})},oe=()=>{g(B),D(!1),k(null),U([]),_(0),E||setTimeout((()=>{const e=Array.from(K.current.keys()).sort(((e,t)=>e-t)),t=e.findIndex((e=>e>H)),n=K.current.get(e[t])||K.current.values().next().value;n?n.focus():y()}),0)},se=()=>{x(B),D(!1),k(null),U([]),_(0)},ie=(0,f.jy)(e);let ae=!1;const le=E&&{onPointerDown:e=>e.stopPropagation()},ce=ie.find((e=>e.groupID===H)),ue=Boolean(E&&ce&&ce.diffs.some((([e,,t])=>e===f.FS.Operation.RETAIN&&Boolean(t))));return o.createElement("p",{...(0,l.Sh)(A.s.sidelineCardRewriteDiff,n&&A.s.sidelineCardRewriteDiffBlurred),"data-testid":"grammarly-g2-sideline-card-rewrite-diff"},ie.map((({groupID:e,diffs:s,showDeletions:i,showRetainsAsInserts:l})=>{const d=s.some((([e])=>e===f.FS.Operation.DELETE||e===f.FS.Operation.INSERT)),h=s.some((([e,,t])=>e===f.FS.Operation.RETAIN&&t)),m=d&&t&&!n,g=h&&E&&!n,x=t&&(i||E),y=m&&!ae&&b,S=(0,r.zG)(s,c.nI,u.UI(p.G),u.FS);return ae=ae||m,o.createElement(R,{key:e,groupID:e,diffs:s,diffAccessibilityLabel:S,onHidePopover:te,onMount:y?ee:void 0,onRevert:m?oe:void 0,onRedo:g?se:void 0,onShowPopover:re,ref:t=>{t?K.current.set(e,t):K.current.delete(e)}},s.map(((e,t)=>{const[n,r,i]=e;switch(n){case f.FS.Operation.DELETE:return x?o.createElement(a.x,{as:"span",variant:"text-small",key:t,style:j},r):null;case f.FS.Operation.INSERT:{const e=s.length,n=" "===r&&e>1?V:W;return o.createElement(F,{key:t,renderer:e=>o.createElement(a.x,{as:"span",variant:"text-small",style:n},e)},r)}case f.FS.Operation.RETAIN:{let e=l?W:V;return i&&(e=Y),o.createElement(F,{key:t,renderer:t=>o.createElement(a.x,{as:"span",variant:"text-small",style:e},t)},r)}}})))})),o.createElement("span",{"aria-hidden":"true"},N&&C&&o.createElement(m.q,{className:A.s.sidelineCardRewriteDiffPopoverWrapper,as:"span",show:S,transitionDurationMs:400,display:"block",ariaHidden:!0},o.createElement("button",{className:A.s.sidelineCardRewriteDiffRevertButton,type:"button",onMouseOver:ne,onMouseLeave:te,onFocus:ne,onBlur:te,onClick:ue?se:oe,...le},o.createElement(a.x,{as:"span","data-testid":"grammarly-g2-revertible-rewrite-diff-undo",ref:z,className:w.revertibleRewriteDiffLabel,style:Q.popper,...q.popper},(ue?"Redo":"Undo")+" change"),o.createElement($,{...(0,l.Sh)(b&&w.revertibleRewriteDiffOutlineOnboarding),rects:Array.from(C.getClientRects()),referenceRect:N.getBoundingClientRect()})))))}},64746:(e,t,n)=>{n.d(t,{FS:()=>b,Ns:()=>v,jy:()=>g});var r=n(60213),o=n(12518),s=n(53186),i=n(90023),a=n(23031);const l=/\s/;function c(e,t){const n=e.split(l),[r,...o]=n;t(r);let s=r.length;for(const n of o){t(e[s]),s+=n.length+1,t(n)}}function u(e,t){const n=new r.diff_match_patch,[o,s,i]=function(e,t){const n=[],r=new Map,o=e=>t=>{if(""===t)return;const o=r.get(t)||String.fromCharCode(r.size);r.has(t)||(n.push(t),r.set(t,o)),e.push(o)},s=[];c(e,o(s));const i=[];return c(t,o(i)),[s.join(""),i.join(""),n]}(e,t),a=n.diff_main(o,s,!1);return n.diff_charsToLines_(a,i),n.diff_cleanupSemantic(a),a}const p=/([.!?] )/;function f(e){const t=e.split(p),n=[];for(let e=0;e<t.length;e++){const r=t[e],o=t[e+1];let s=r;p.test(r)||(p.test(o)?(s+=o[0],n.push(s),n.push(" ")):n.push(s))}return n}function d(e){const t=[];for(const n of e){const[e,r]=n;if(e===b.Operation.INSERT&&p.test(r)){const n=f(r);for(const r of n)t.push([e,r])}else t.push(n)}return t}const h=/(\p{Punctuation}|\s)+/mu,m=e=>e[0],E=e=>e[1],g=e=>{const t=function(e){let t=0,n=0;for(const r of e){const[e,o]=r;e===b.Operation.DELETE&&(t+=o.length),e!==b.Operation.DELETE&&e!==b.Operation.RETAIN||(n+=o.length)}return t/n}(e),n=[],r=e=>({groupID:e,diffs:[],showDeletions:t<.4});let o,s=-1,a=r(s);for(const t of e){const[e,i,l]=t;switch(e){case b.Operation.INSERT:!o||m(o)!==b.Operation.DELETE&&m(o)!==b.Operation.INSERT?(s+=1,n.push(a),a=r(s),a.diffs.push(t)):a.diffs.push(t);break;case b.Operation.DELETE:s+=1,a.diffs.length>0&&n.push(a),a=r(s),a.diffs.push(t);break;case b.Operation.RETAIN:l?(s+=1,n.push(a),a=r(s),a.diffs.push(t)):R(i).map((t=>[e,t,l])).forEach((e=>{s+=1,a.diffs.length>0&&n.push(a),a=r(s),a.diffs.push(e)}))}o=t}return a.diffs.length>0&&n.push(a),(0,i.zG)(n,x,y,S,T)};function x(e){return e.map((e=>{const t=e.diffs.every((([e])=>e===b.Operation.DELETE));return{...e,showDeletions:t||e.showDeletions}}))}function y(e){return e.map((e=>{const{diffs:t,showDeletions:n}=e;if(2!==t.length||!n)return e;const[r,o]=t,[s,i]=r,[a,l]=o,c=s===b.Operation.DELETE&&a===b.Operation.INSERT&&i.toLocaleUpperCase()===l;return{...e,showDeletions:!c&&n}}))}function S(e){return e.map((e=>{const{diffs:t,showDeletions:n}=e;if(2!==t.length||!n)return e;const[r,o]=t,[s,i]=r,[a,l]=o,c=s===b.Operation.DELETE&&a===b.Operation.INSERT&&i.length===l.length;return{...e,showDeletions:!c&&n}}))}function D(e){const{diffs:t}=e;if(1===t.length){const[e]=t,[n,r]=e;return(n===b.Operation.INSERT||n===b.Operation.DELETE)&&!h.test(r)}if(2===t.length){const[e,n]=t,[r,o]=e,[s,i]=n;return r===b.Operation.DELETE&&s===b.Operation.INSERT&&o.length===i.length&&!h.test(o)&&!h.test(i)}return!1}function w(e){const{diffs:t}=e;return function(e){const{diffs:t}=e;return 1===t.length&&m(t[0])===b.Operation.RETAIN}(e)&&!h.test(E(t[0]))}function R(e){const t=e.split(h);if(1===t.length)return[e];const n=[],r=t[0],o=t[t.length-1];let s=0;return r&&(n.push(r),s=r.length),o?(n.push(e.substring(s,e.length-o.length)),n.push(o)):n.push(e.substring(s)),n}function T(e){const t=[];let n,r=[],o=[],s=!1,i=0;const a=()=>{i>=2&&s?t.push(...o):t.push(...r),r=[],o=[],n=void 0,i=0,s=!1};for(const l of e)void 0===n?D(l)||w(l)?(r.push(l),n={groupID:l.groupID,diffs:[...l.diffs],showRetainsAsInserts:!0,showDeletions:!1},o.push(n)):t.push(l):D(l)?(r.push(l),i++,n.diffs.push(...l.diffs)):w(l)?(r.push(l),i>0&&(s=!0),n.diffs.push(...l.diffs)):(a(),t.push(l));return a(),t}const v=(e,t)=>{const n=new r.diff_match_patch,o=n.patch_make(e,t),[s]=n.patch_apply(o,e);return s};var b;!function(e){let t;e.getDiff=(t,n)=>(0,i.zG)(o.Y3((()=>{if(t===n)return""===t?[]:[[e.Operation.RETAIN,t]];return d(u(t,n))}),o.KC),o.tS((0,i.ls)(s.nI,o.Yo((()=>new Error("Diff is empty")))))),function(e){e[e.DELETE=-1]="DELETE",e[e.RETAIN=0]="RETAIN",e[e.INSERT=1]="INSERT"}(t=e.Operation||(e.Operation={})),e.matchOperation=function({onInsert:e,onDelete:n,onRetain:r}){return o=>{const s=m(o);switch(s){case t.INSERT:return e(E(o));case t.DELETE:return n(E(o));case t.RETAIN:return r(E(o));default:(0,a.vE)(s)}}}}(b||(b={}))},8360:(e,t,n)=>{n.r(t),n.d(t,{SduiCard:()=>N});var r=n(90023),o=n(92379),s=n(29146),i=n(58303),a=n(61168),l=n(54777),c=n(33581),u=n(65158),p=n(50454),f=n(91320),d=n(96821),h=n(59833),m=n(64746);const E=([e])=>e!==m.FS.Operation.RETAIN,g=(0,r.ls)((e=>(0,r.zG)(e,h.cx(E),i.UI((t=>e.slice(t))),i.fS((()=>e)))),(e=>(0,r.zG)(e,h.GY,h.cx(E),i.UI((t=>e.slice(0,e.length-t))),i.fS((()=>e))))),x=(e,t)=>e.reduce(((e,n)=>{const[r,o,s]=n;return t.find((([e,t,n])=>e===r&&t===o&&n===s))?r===m.FS.Operation.DELETE?e.push([m.FS.Operation.RETAIN,o,s]):r===m.FS.Operation.RETAIN&&e.push(n):e.push(n),e}),[]),y={styleInsert:{color:f.Blue40,fontWeight:"bold"},styleDelete:{color:f.Red60,fontWeight:"bold",textDecoration:"line-through"},styleRetain:{color:f.NeutralGray100},styleRedo:{color:f.NeutralGray100,textDecoration:"underline",textDecorationColor:f.NeutralGray40}},S=e=>{const t=(n=e.groupedDiffs,(r=n,r.map((e=>{const{textOperation:t}=e;return 2===t.length&&"Insert"===t[0].type&&"Delete"===t[1].type?{...e,textOperation:[t[1],t[0]]}:e}))).reduce(((e,t)=>(t.textOperation.forEach((({type:n,text:r=""})=>{let o=m.FS.Operation.RETAIN;"Insert"===n&&(o=m.FS.Operation.INSERT),"Delete"===n&&(o=m.FS.Operation.DELETE);const s=[o,r],i=t.id;i&&s.push(i),e.push(s)})),e)),[]));var n,r;const s=g(t),[i,a]=o.useState(t),l=o.useRef(s);return o.createElement(d.V,{diff:i,displayDeletes:e.showDeletions,diffStyles:y,blur:!1,isSduiTarget:!0,onRevert:t=>{const n=x(i,t),r=x(l.current,t),[[,,o]]=t;o&&e.onUndoChange(o),a(n),l.current=r,e.setUndoDiff(r)},onRedo:n=>{const r=new Set(n.map((([,,e])=>e)).filter((e=>Boolean(e)))),o=e=>{const t=new Map;return e.forEach((e=>{var n;const[,,r]=e;if(!r)return;const o=null!==(n=t.get(r))&&void 0!==n?n:[];o.push(e),t.set(r,o)})),t},c=(e,t)=>{const n=[],o=new Set;return e.forEach((e=>{var s;const[,,i]=e;i&&r.has(i)?o.has(i)||(n.push(...null!==(s=t.get(i))&&void 0!==s?s:[]),o.add(i)):n.push(e)})),n},u=o(t),p=o(s),f=c(i,u),d=c(l.current,p),[[,,h]]=n;h&&e.onUndoChange(h),a(f),l.current=d,e.setUndoDiff(d)}})};var D=n(23783),w=n(55849);const R=D.ux.style({padding:D.ux.px(4)}),T=()=>o.createElement(w.T,{type:"mini",size:16,className:R});var v;function b(e){const{onSduiUndoDiff:t}=e,n=t&&{nativeUndoableTextChanges:e=>o.createElement(S,{...e,setUndoDiff:t})};return{...u.k,inlineCard:(0,p.I)(v.of(13.5),v.of(20.25)),icon:{...l.y,[c.Tb.GButtonSmall]:T},...n}}!function(e){e.of=e=>e}(v||(v={}));const I=({children:e})=>o.createElement(s.G.DefaultProvider,null,e),N=({model:e,onSduiUndoDiff:t})=>{const n={onSduiUndoDiff:t};return o.createElement(I,null,o.createElement(a.P,{key:e.sdui.id,sduiRootId:e.sdui.id,content:e.sdui.content,prevContent:i.YP,transitions:[],designSystem:b(n),onMount:r.Q1,onAnimationEnd:r.Q1,notify:e.notify}))}}}]);