import{a as V,b as U}from"./chunk-KWXANPNS.js";import{a as m,b as f}from"./chunk-OOVGOOFN.js";import{E as L,G as v,a as k,b as w,d as C,i as S}from"./chunk-JMZ6COH5.js";import{c as R}from"./chunk-TL3QIPOO.js";import{a as A}from"./chunk-IDR6MOLX.js";import{a as _}from"./chunk-DB2INE3Z.js";import{a as y}from"./chunk-VMXEY2MG.js";import{a as N}from"./chunk-DYSWDVEG.js";import{a as E}from"./chunk-VQDKWH7E.js";import{b as g,m as t,s as b,w as D}from"./chunk-CHZKSFGE.js";import{b as P,c as J}from"./chunk-HPNQXUCM.js";import{e as h}from"./chunk-3GYLW4KZ.js";var I=h(P()),d=h(J());var x=()=>D("getEnergyCashbackDomains");window.__wb_timing.cashbackRequireAt=performance.now();var o,p=!1;async function q(){await I.default.all([E(),y(),S(),_(),x(),U(),V()]).spread((e,r,s,n,a,i,c)=>{N(e),t.merge({siteAPIData:r}),t.merge({cashback:s}),t.set("lifetimeSavings",n),t.set("energyCashbackDomains",a),t.set(["couponView","elasticityUserDomain"],i),t.set("domainLists",c)}),b("ext_instant_init_notifs")||document.readyState!=="loading"?l():document.addEventListener("DOMContentLoaded",l)}async function l(e=!1){p=e;let r=t.get("siteAPIData"),s=d.default.get(r,"tld");g(s);let n=t.get("cashback");t.set("cashbackVisible",!1);let a=await m("emailCreateAccount");if(a&&JSON.parse(a)?.shouldLoadNotification&&(await f("emailCreateAccount"),R(d.default.get(n,"reward",null))),(k()||w())&&!L())return C(),!1;let i=await m("affiliateRedirect");if(i){let u=JSON.parse(i);t.set("affiliateRedirect",u),await f("affiliateRedirect")}let c=t.get(["deweyResult"]);O(c),B()}async function B(){A.emitter.on("result",e=>{O(e)})}async function O(e){t.get("cashbackVisible")||!e||o||F(e)}function F(e){o&&!p||(o=!0,v(e,{devRewardTest:p}).then(()=>{o=t.get("cashbackVisible")}))}q();export{l as a};
